<!DOCTYPE html>
<head>

<meta charset="UTF-8">

<style>
	textarea, button{
		vertical-align: top;
	}
</style>
</head>
<body>
	<div id="result">
	</div>


	<textarea id="text" style="width: 70%; height: 600px;"></textarea>
	<button id="get" style="width: 10%; height: 600px;">Get</button>
	<button id="sort">Sort</button>
</body>
<script src="../js/vendor/fuzzyset.js"></script>
<script src="../js/vendor/xregexp.js"></script>
<script src="../js/vendor/underscore-min.js"></script>



<script>
var $result = document.querySelector('#result');
var $button = document.querySelector('#get');
var $text = document.querySelector('#text');
var $sort = document.querySelector('#sort');
var arrayAll = [];


$button.onclick = function(){
	var input = $text.value;
	var arrayMatch = XRegExp.match(input, /\w.+?,\s\w.+?\s\w/g, 'all');
	
	console.log(arrayMatch);
	for(var match in arrayMatch){
		if(!arrayAll.includes(arrayMatch[match]))
			arrayAll.push(arrayMatch[match]);
	}

	showResult();


}








$sort.onclick = function(){
	arrayAll = _.sortBy(arrayAll, function(a){return a;});
	showResult();


}




function showResult(){
	result.innerHTML = JSON.stringify(arrayAll);
}


/*
$button.onclick = function(){
  var str = $text.value;
  str = fuzzy.get(str)[0][1];
  console.log(str);
  for(var u of users){
    console.log(u.name);
    if(u.name == str)
      $result.innerHTML = u.userid;
  }
 

}
*/
</script>
